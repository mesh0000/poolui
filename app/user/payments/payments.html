<ng-include src="'user/dashboard/poolstats.html'"></ng-include>
<div layout-sm="column" layout="row" flex>
	<div layout="column" flex>
		<md-card>
			<md-toolbar class="md-table-toolbar md-default">
			  <div class="md-toolbar-tools">
			    <span>Payments Made</span>
			  </div>
			</md-toolbar>
			<md-card-content>
				<md-table-pagination md-limit="options.limit" md-limit-options="[15, 30, 50]" md-page="options.page" md-total="{{poolStats.global.totalPayments}}" md-on-paginate="loadPayments" md-page-select></md-table-pagination>
				<md-table-container>
				  <table md-table md-row-select ng-model="selected" md-progress="promise">
					<thead md-head>
					  <tr md-row>
						<th md-column><h2 class="md-subhead">Time Sent</h2></th>
						<th md-column><h2 class="md-subhead">Transaction Hash</h2></th>
						<th md-column><h2 class="md-subhead">Amount</h2></th>
						<th md-column><h2 class="md-subhead">Fee</h2></th>
						<th md-column><h2 class="md-subhead">Mixin</h2></th>
						<th md-column><h2 class="md-subhead">Payees</h2></th>
					  </tr>
					</thead>
					<tbody md-body>
					  <tr md-row ng-repeat="payment in payments.global">
						<td md-cell>
							<h3 class="md-body-2" am-time-ago="payment.ts"></h3>
							<md-tooltip>
								{{payment.ts | date:'hh:mm:ss dd/MM/yy'}}
							</md-tooltip>
						</td>
						<td md-cell ng-bind-html="payment.hash | hashToLink: 'tx'"></td>
						<td md-cell><p class="md-body-2">{{payment.value | toXMR}} XMR</p></td>
						<td md-cell><p class="md-body-2">{{payment.fee | toXMR }} XMR</p></td>
						<td md-cell><p class="md-body-2">{{payment.mixins}}</p></td>
						<td md-cell><p class="md-body-2">{{payment.payees}}</p></td>
					  </tr>
					</tbody>
				  </table>
				</md-table-container>
				<md-table-pagination md-limit="options.limit" md-limit-options="[15, 30, 50]" md-page="options.page" md-total="{{poolStats.global.totalPayments}}" md-on-paginate="loadPayments" md-page-select></md-table-pagination>
			</md-card-content>
		</md-card>
	</div>
</div>